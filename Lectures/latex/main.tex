% Lectures on Computer Architecture
% Compile with pdfLaTeX
\documentclass[11pt, a4paper]{book}

% ---------- FONTS & ENCODING ----------
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}  % Latin Modern fonts - better than CM

% ---------- LAYOUT ----------
\usepackage[paper=a4paper, margin=2.5cm, top=3.5cm, bottom=3.5cm, headheight=14pt]{geometry}
\usepackage{ragged2e}
\usepackage{setspace}
\setstretch{1.1}  % Slightly increased line spacing for readability

% ---------- ESSENTIAL PACKAGES ----------
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{enumitem}

% Configure list formatting for consistent alignment
\setlist[itemize]{leftmargin=*, topsep=8pt, itemsep=4pt, parsep=0pt, partopsep=0pt}
\setlist[enumerate]{leftmargin=*, topsep=8pt, itemsep=4pt, parsep=0pt, partopsep=0pt}

% ---------- COLORS ----------
\usepackage{xcolor}
\definecolor{accentblue}{HTML}{1E9EEB} % tweak hex to taste (bright cyan-blue)
\definecolor{accentdark}{HTML}{0E6A8A} % darker blue/teal if needed
\definecolor{accentgray}{gray}{0.45}

% ---------- HEADER / FOOTER & BACKGROUNDS ----------
\usepackage{fancyhdr}
\usepackage{tikz}
\usepackage{eso-pic} % add to background

\pagestyle{fancy}
\fancyhf{} % clear header/footer
% page number at top-right (small)
\fancyhead[R]{\footnotesize\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% Decorative bars drawn on every page (top & bottom)
\AddToShipoutPictureBG{%
  \begin{tikzpicture}[remember picture,overlay]
    % Top thin white margin stripe above blue bar (matches sample)
    \fill [white] (current page.north west) rectangle ([yshift=-1.1cm]current page.north east);
    % Top blue bar (thin)
    \fill [accentblue] ([yshift=-1.1cm]current page.north west) rectangle ([yshift=-1.45cm]current page.north east);
    % thin dark stripe below top blue
    \fill [black] ([yshift=-1.45cm]current page.north west) rectangle ([yshift=-1.50cm]current page.north east);
    % Bottom thick blue bar
    \fill [accentblue] ([yshift=1.8cm]current page.south west) rectangle ([yshift=1.2cm]current page.south east);
    % white gap line
    \fill [white] ([yshift=1.2cm]current page.south west) rectangle ([yshift=1.15cm]current page.south east);
    % thin dark stripe under bottom blue
    \fill [black] ([yshift=1.15cm]current page.south west) rectangle ([yshift=1.1cm]current page.south east);
  \end{tikzpicture}%
}

% To avoid the decorative bars covering content, push text away from top/bottom:
\setlength{\headsep}{28pt}
\setlength{\footskip}{48pt}

% ---------- TITLE / COVER STYLING ----------
\usepackage{titling}
\pretitle{\vspace*{4cm}\raggedright} % push title down similar to sample
\posttitle{\par\vspace{0.5em}}
\preauthor{\vspace{2em}\raggedright\small}
\postauthor{\par\vspace{0.5em}}
\predate{}\postdate{}

% ---------- SECTION / HEADING STYLES ----------
\usepackage{titlesec}
\titleformat{\chapter}[display]
  {\normalfont\Huge\bfseries\sffamily\color{accentblue}}
  {\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{0pt}{30pt}

\titleformat{\section}
  {\Large\bfseries\sffamily\color{accentblue}}
  {\thesection}{1em}{}
\titlespacing*{\section}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}

\titleformat{\subsection}
  {\large\bfseries\sffamily\color{accentdark}}
  {\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\titleformat{\subsubsection}
  {\normalsize\bfseries\sffamily\color{accentdark}}
  {\thesubsubsection}{1em}{}
\titlespacing*{\subsubsection}{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\titleformat{\paragraph}[runin]
  {\normalsize\bfseries\color{black}}
  {}{0em}{}
\titlespacing*{\paragraph}{0pt}{2ex plus 1ex minus .2ex}{1em}

% ---------- TABLE OF CONTENTS STYLING ----------
\usepackage{tocloft}
\renewcommand{\cftsecfont}{\sffamily\small\color{accentblue}}
\renewcommand{\cftsecpagefont}{\sffamily\small\color{accentblue}}
\renewcommand{\cftbeforesecskip}{4pt}
\renewcommand{\contentsname}{\color{accentblue}\Large\bfseries Content}

% ---------- CODE LISTINGS ----------
\lstset{
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny\color{gray},
    tabsize=4,
    backgroundcolor=\color{gray!10},
    commentstyle=\color{green!60!black},
    keywordstyle=\color{blue},
    stringstyle=\color{red!70!black}
}

% ---------- HYPERREF ----------
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=accentdark,
  urlcolor=accentblue,
  citecolor=accentblue,
  pdftitle={Lectures on Computer Architecture},
  pdfauthor={Dr. Isuru Nawinne},
  bookmarksnumbered=true,
  bookmarksopen=true
}

% ---------- DOCUMENT ----------
\begin{document}

% ----------------- COVER PAGE -----------------
\begin{titlepage}
  \thispagestyle{empty}
  \vspace*{2cm}
  % "Lectures on" small blue text
  {\Large\bfseries\color{accentblue} Lectures on\par}
  \vspace{1.0em}
  % Big serif title - mimic large left-aligned serif
  {\Huge\bfseries\scshape Computer\par}
  {\Huge\bfseries\scshape Architecture\par}
  \vspace{2.5cm}
  % small ornamental short blue rule
  {\noindent\color{accentblue}\rule{1.6cm}{3pt}\par}
  \vfill
  % Author line
  {\small\textbf{Isuru Nawinne}\par}
  {\small Faculty of Engineering - University of Peradeniya\par}
  \vspace{2.5cm}
  % bottom bars are already drawn by shipout picture
\end{titlepage}

\cleardoublepage
\pagestyle{fancy}

% ----------------- FRONT MATTER -----------------
\tableofcontents
\clearpage

% ----------------- MAIN CONTENT -----------------
\chapter{Fundamentals}

% Lecture 1: Computer Abstractions and Technology
\input{lecture-01}

% % Lecture 2: Technology Trends
% \input{lecture-02}

% % Lecture 3: Understanding Performance
% \input{lecture-03}

% \chapter{ARM Assembly Programming}

% % Lecture 4: Introduction to ARM Assembly
% \input{lecture-04}

% % Lecture 5: Number Representation and Data Processing
% \input{lecture-05}

% % Lecture 6: Branching
% \input{lecture-06}

% % Lecture 7: Function Call and Return
% \input{lecture-07}

% % Lecture 8: Memory Access
% \input{lecture-08}

% \chapter{Processor Architecture}

% % Lecture 9: Microarchitecture and Datapath
% \input{lecture-09}

% % Lecture 10: Processor Control
% \input{lecture-10}

% % Lecture 11: Single-Cycle Execution
% \input{lecture-11}

% % Lecture 12: Pipelined Processors
% \input{lecture-12}

% % Lecture 13: Pipeline Operation and Timing
% \input{lecture-13}

% \chapter{Memory Systems}

% % Lecture 14: Memory Hierarchy and Caching
% \input{lecture-14}

% % Lecture 15: Direct Mapped Cache Control
% \input{lecture-15}

% % Lecture 16: Associative Cache Control
% \input{lecture-16}

% % Lecture 17: Multi-Level Caching
% \input{lecture-17}

% % Lecture 18: Virtual Memory
% \input{lecture-18}

% \chapter{Advanced Topics}

% % Lecture 19: Multiprocessors
% \input{lecture-19}

% % Lecture 20: Storage and Interfacing
% \input{lecture-20}

\end{document}
